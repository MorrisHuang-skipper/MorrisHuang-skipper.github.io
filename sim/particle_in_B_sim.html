<!DOCTYPE html>
<html  >
<head>
  <!-- Site made with Mobirise Website Builder v4.12.1, https://mobirise.com -->
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Mobirise v4.12.1, mobirise.com">
  <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
  <link rel="shortcut icon" href="assets/images/ncu-122x108.png" type="image/x-icon">
  <meta name="description" content="Web Maker Description">
  
  <title>capacitor_sim</title>
  <link rel="stylesheet" href="assets/web/assets/mobirise-icons/mobirise-icons.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
  <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
  <link rel="stylesheet" href="assets/facebook-plugin/style.css">
  <link rel="stylesheet" href="assets/tether/tether.min.css">
  <link rel="stylesheet" href="assets/dropdown/css/style.css">
  <link rel="stylesheet" href="assets/theme/css/style.css">
  <link rel="preload" as="style" href="assets/mobirise/css/mbr-additional.css"><link rel="stylesheet" href="assets/mobirise/css/mbr-additional.css" type="text/css">
  
  
  
</head>
<body>
    <br><br><br><br><br>
    <section class="menu cid-qTkzRZLJNu" once="menu" id="menu1-1m">
  
      
  
      <nav class="navbar navbar-expand beta-menu navbar-dropdown align-items-center navbar-fixed-top navbar-toggleable-sm">
          <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <div class="hamburger">
                  <span></span>
                  <span></span>
                  <span></span>
                  <span></span>
              </div>
          </button>
          <div class="menu-logo">
              <div class="navbar-brand">
                  <span class="navbar-logo">
                      <a href="#top">
                           <img src="assets/images/ncu-122x108.png" alt="Mobirise" title="" style="height: 3.8rem;">
                      </a>
                  </span>
                  <span class="navbar-caption-wrap"><a class="navbar-caption text-white display-4" href="https://morrishuang-skipper.github.io/index.html">
                          PhysSim</a></span>
              </div>
          </div>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
              <ul class="navbar-nav nav-dropdown" data-app-modern-menu="true"><li class="nav-item">
                      <a class="nav-link link text-white display-4" href="https://morrishuang-skipper.github.io/index.html" aria-expanded="false"><span class="mbri-home mbr-iconfont mbr-iconfont-btn" style="color: rgb(204, 41, 82);"></span>
                          
                          Home<br></a>
                  </li>
                  <li class="nav-item"><a class="nav-link link text-white display-4" href="https://morrishuang-skipper.github.io/about.html"><span class="mbri-info mbr-iconfont mbr-iconfont-btn" style="color: rgb(204, 41, 82);"></span>
                          
                          About</a></li></ul>
              <div class="navbar-buttons mbr-section-btn"><a class="btn btn-sm btn-primary display-4" href="https://morrishuang-skipper.github.io/simulations.html">
                      
                      Simulations</a></div>
          </div>
      </nav>
  </section>
  
  
    <section class="engine"><a href="https://mobirise.info/a">online web builder</a></section><script src="assets/web/assets/jquery/jquery.min.js"></script>
    <script src="assets/popper/popper.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5"></script>
    <script src="https://apis.google.com/js/plusone.js"></script>
    <script src="assets/facebook-plugin/facebook-script.js"></script>
    <script src="assets/tether/tether.min.js"></script>
    <script src="assets/smoothscroll/smooth-scroll.js"></script>
    <script src="assets/dropdown/js/nav-dropdown.js"></script>
    <script src="assets/dropdown/js/navbar-dropdown.js"></script>
    <script src="assets/touchswipe/jquery.touch-swipe.min.js"></script>
    <script src="assets/theme/js/script.js"></script>
    
    <div id="glowscript" class="glowscript">
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <link type="text/css" href="https://s3.amazonaws.com/glowscript/css/redmond/2.1/jquery-ui.custom.css" rel="stylesheet" />
        <link href="https://fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" type="text/css" />
        <link type="text/css" href="https://s3.amazonaws.com/glowscript/css/ide.css" rel="stylesheet" />
        <script type="text/javascript" src="https://s3.amazonaws.com/glowscript/lib/jquery/2.1/jquery.min.js"></script>
        <script type="text/javascript" src="https://s3.amazonaws.com/glowscript/lib/jquery/2.1/jquery-ui.custom.min.js"></script>
        <script type="text/javascript" src="https://s3.amazonaws.com/glowscript/package/glow.2.9.min.js"></script>
        <script type="text/javascript" src="https://s3.amazonaws.com/glowscript/package/RSrun.2.9.min.js"></script>
        <script type="text/javascript"><!--//--><![CDATA[//><!--
        
        // START JAVASCRIPT
        ;(function() {;
        var RS_modules = {};
        var loop;
        RS_modules.pythonize = {};
        
        (function(){
            function strings() {
                var string_funcs, exclude, name;
                string_funcs = set("capitalize strip lstrip rstrip islower isupper isspace lower upper swapcase center count endswith startswith find rfind index rindex format join ljust rjust partition rpartition replace split rsplit splitlines zfill".split(" "));
                if (!arguments.length) {
                    exclude = (function(){
                        var s = RS_set();
                        s.jsset.add("split");
                        s.jsset.add("replace");
                        return s;
                    })();
                } else if (arguments[0]) {
                    exclude = Array.prototype.slice.call(arguments);
                } else {
                    exclude = null;
                }
                if (exclude) {
                    string_funcs = string_funcs.difference(set(exclude));
                }
                var RS_Iter0 = string_funcs;
                RS_Iter0 = ((typeof RS_Iter0[Symbol.iterator] === "function") ? (RS_Iter0 instanceof Map ? RS_Iter0.keys() : RS_Iter0) : Object.keys(RS_Iter0));
                for (var RS_Index0 of RS_Iter0) {
                    name = RS_Index0;
                    (RS_expr_temp = String.prototype)[(typeof name === "number" && name < 0) ? RS_expr_temp.length + name : name] = (RS_expr_temp = RS_str.prototype)[(typeof name === "number" && name < 0) ? RS_expr_temp.length + name : name];
                }
            };
        
            RS_modules.pythonize.strings = strings;
        })();
        async function __main__() {
            var version, box, sphere, simple_sphere, cylinder, pyramid, cone, helix, ellipsoid, ring, arrow, compound, display, vector, print, arange, type, scene, RS_ls, mu, arrow_length, dt, I, C, v0, pos, m;
            version = RS_list_decorate([ "2.9", "glowscript" ]);
            Array.prototype['+']=function(r) {return this.concat(r)}
            Array.prototype['*']=function(r) {return __array_times_number(this, r)}
            window.__GSlang = "vpython";
            box = vp_box;
            sphere = vp_sphere;
            simple_sphere = vp_simple_sphere;
            cylinder = vp_cylinder;
            pyramid = vp_pyramid;
            cone = vp_cone;
            helix = vp_helix;
            ellipsoid = vp_ellipsoid;
            ring = vp_ring;
            arrow = vp_arrow;
            compound = vp_compound;
            display = canvas;
            vector = vec;
            print = GSprint;
            arange = range;
            type = pytype;
            scene = canvas();
            var strings = RS_modules.pythonize.strings;
        
            strings();
            "18";
            mu = 4["*"](pi)["*"](1e-7);
            "19";
            arrow_length = .1;
            "20";
            dt = .01;
            "21";
            I = 10;
            "22";
            C = 1e6;
            "23";
            v0 = vec(0, 1.5["-u"](), 0);
            "24";
            pos = vec(0, 1, 1);
            "25";
            m = 1;
            "27";
            async function main() {
                var RS_ls, scene, current, particle, force, velocity, t;
                "30";
                "32";
                scene = RS_interpolate_kwargs.call(this, canvas, [RS_desugar_kwargs({width: 1e3, height: 600, userzoom: false, userspan: false, range: 3, align: "left"})]);
                "35";
                scene.camera.pos = vec(0, 1, 3);
                "36";
                scene.camera.axis = vec(0, .5["-u"](), 1["-u"]());
                "38";
                loop = RS_interpolate_kwargs.call(this, ring, [RS_desugar_kwargs({pos: vec(0, 0, 0), radius: 1.5, axis: vec(0, 1, 0), opacity: .5, I: I, thickness: .05})]);
                "41";
                current = RS_interpolate_kwargs.call(this, arrow, [RS_desugar_kwargs({pos: vec(1.5, 0, 0), axis: vec(0, 0, .2), color: color.red})]);
                "44";
                particle = RS_interpolate_kwargs.call(this, sphere, [RS_desugar_kwargs({pos: pos, radius: .05, v: v0, C: C, color: vec(0, 1, 0)})]);
                "46";
                force = RS_interpolate_kwargs.call(this, arrow, [RS_desugar_kwargs({pos: particle.pos, color: vec(1, 0, 0), shaftwidth: .03, axis: cross(particle.v, (await biot_savart(particle.pos)))["/"](10)})]);
                "49";
                velocity = RS_interpolate_kwargs.call(this, arrow, [RS_desugar_kwargs({pos: particle.pos, color: vec(0, 0, 1), shaftwidth: .03, axis: particle.v["/"](3)})]);
                "52";
                ;(await plot());
                "54";
                ;(await magnetic_field());
                "56";
                t = 0;
                "57";
                while (true) {
                    "58";
                    ;(await rate(1["/"](dt)));
                    "59";
                    ;(await update(particle, force, velocity));
                    "60";
                    current.pos = vec(1.5["*"](cos(t)), 0, 1.5["*"](sin(t)));
                    "61";
                    current.axis = vec(.2["-u"]()["*"](sin(t)), 0, .2["*"](cos(t)));
                    "62";
                    if (mag(particle.pos)[">"](3) || t[">"](5)) {
                        "63";
                        t = 0;
                        "64";
                        particle.pos = (await frandom());
                        "65";
                        particle.v = 1.5["*"]((await frandom()));
                    }
                    "66";
                    t=t["+"](dt);
                }
            };
        
            "69";
            async function magnetic_field() {
                var RS_ls, pos, B, theta, r, y;
                "75";
                var RS_Iter1 = (await frange(1["-u"](), .5, .5));
                RS_Iter1 = ((typeof RS_Iter1[Symbol.iterator] === "function") ? (RS_Iter1 instanceof Map ? RS_Iter1.keys() : RS_Iter1) : Object.keys(RS_Iter1));
                for (var RS_Index1 of RS_Iter1) {
                    y = RS_Index1;
                    "76";
                    var RS_Iter2 = (await frange(0, 2, .2));
                    RS_Iter2 = ((typeof RS_Iter2[Symbol.iterator] === "function") ? (RS_Iter2 instanceof Map ? RS_Iter2.keys() : RS_Iter2) : Object.keys(RS_Iter2));
                    for (var RS_Index2 of RS_Iter2) {
                        r = RS_Index2;
                        "77";
                        var RS_Iter3 = (await frange(0, 2["-u"]()["*"](pi), pi["-u"]()["/"](16)));
                        RS_Iter3 = ((typeof RS_Iter3[Symbol.iterator] === "function") ? (RS_Iter3 instanceof Map ? RS_Iter3.keys() : RS_Iter3) : Object.keys(RS_Iter3));
                        for (var RS_Index3 of RS_Iter3) {
                            theta = RS_Index3;
                            "78";
                            if (abs(r["-"](loop.radius))[">"](.1)) {
                                "80";
                                pos = vec(r["*"](cos(theta)), y, r["*"](sin(theta)));
                                "81";
                                B = (await biot_savart(pos));
                                "83";
                                RS_interpolate_kwargs.call(this, arrow, [RS_desugar_kwargs({pos: pos, axis: hat(B), length: arrow_length, color: (await mag_field_color(B))})]);
                            }
                        }
                    }
                }
            };
        
            "86";
            async function biot_savart(pos) {
                var RS_ls, RS_unpack, B, n, r, source, dl, theta;
                "92";
                RS_unpack = [vec(0, 0, 0), 1e3];
                B = RS_unpack[0];
                n = RS_unpack[1];
                "93";
                r = loop.radius;
                "95";
                var RS_Iter4 = (await frange(0, 2["*"](pi), 2["*"](pi)["/"](n)));
                RS_Iter4 = ((typeof RS_Iter4[Symbol.iterator] === "function") ? (RS_Iter4 instanceof Map ? RS_Iter4.keys() : RS_Iter4) : Object.keys(RS_Iter4));
                for (var RS_Index4 of RS_Iter4) {
                    theta = RS_Index4;
                    "96";
                    source = vec(r["*"](cos(theta)), 0, r["*"](sin(theta)));
                    "97";
                    dl = 2["*"](pi)["*"](r)["/"](n)["*"](vec(r["-u"]()["*"](sin(theta)), 0, r["*"](cos(theta))));
                    "98";
                    try {
                        "99";
                        B=B["+"](mu["*"](loop.I)["/"](4)["/"](pi)["*"](cross(dl, pos["-"](source)))["/"](GS_power(mag(pos["-"](source)), 3)));
                        "100";
                    } catch (RS_Exception) {
                        RS_last_exception = RS_Exception;
                        if (RS_Exception instanceof ZeroDivisionError) {
                            "101";
                            print("zero division error");
                        } else {
                            throw RS_Exception;
                        }
                    }
                }
                "102";
                return B;
            };
            if (!biot_savart.__argnames__) Object.defineProperties(biot_savart, {
                __argnames__ : {value: ["pos"]}
            });
        
            "105";
            async function mag_field_color(B) {
                var RS_ls, a;
                "107";
                a = 1["/"](2e-6);
                "108";
                return vec(1["-"](log(a["*"](mag(B)))), 0, 1);
            };
            if (!mag_field_color.__argnames__) Object.defineProperties(mag_field_color, {
                __argnames__ : {value: ["B"]}
            });
        
            "111";
            async function plot() {
                var RS_ls, g1, B, r;
                "113";
                g1 = RS_interpolate_kwargs.call(this, graph, [RS_desugar_kwargs({title: "magnetic field from the distance to center", width: 500, height: 300, align: "right", xtitle: "distance", ytitle: "magnetic field"})]);
                "117";
                B = RS_interpolate_kwargs.call(this, gdots, [RS_desugar_kwargs({graph: g1, color: color.blue})]);
                "119";
                var RS_Iter5 = (await frange(0, 5, .01));
                RS_Iter5 = ((typeof RS_Iter5[Symbol.iterator] === "function") ? (RS_Iter5 instanceof Map ? RS_Iter5.keys() : RS_Iter5) : Object.keys(RS_Iter5));
                for (var RS_Index5 of RS_Iter5) {
                    r = RS_Index5;
                    "120";
                    if (abs(r["-"](loop.radius))[">"](.1)) {
                        "121";
                        RS_interpolate_kwargs.call(B, B.plot, [RS_desugar_kwargs({pos: [r, mag((await biot_savart(vec(r, 0, 0))))]})]);
                    }
                }
            };
        
            "124";
            async function update(obj, force, velocity) {
                var RS_ls, a;
                "129";
                a = obj.C["*"](cross(obj.v, (await biot_savart(obj.pos))))["/"](m);
                "130";
                obj.v=obj.v["+"](a["*"](dt));
                "131";
                obj.pos=obj.pos["+"](obj.v["*"](dt));
                "133";
                force.pos = obj.pos;
                "134";
                force.axis = m["*"](a)["/"](10);
                "135";
                force.shaftwidth = .05;
                "136";
                velocity.pos = obj.pos;
                "137";
                velocity.axis = obj.v["/"](3);
                "138";
                velocity.shaftwidth = .05;
            };
            if (!update.__argnames__) Object.defineProperties(update, {
                __argnames__ : {value: ["obj", "force", "velocity"]}
            });
        
            "141";
            async function frandom() {
                var RS_ls, x, y, z;
                "145";
                x = (random()[">"](.5)) ? random() : random()["-u"]();
                "146";
                y = (random()[">"](.5)) ? random() : random()["-u"]();
                "147";
                z = (random()[">"](.5)) ? random() : random()["-u"]();
                "148";
                return vec(x, y, z);
            };
        
            "150";
            async function frange() {
                var start = ( 0 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [RS_kwargs_symbol] === true) ? undefined : arguments[0];
                var stop = ( 1 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [RS_kwargs_symbol] === true) ? undefined : arguments[1];
                var step = (arguments[2] === undefined || ( 2 === arguments.length["-"](1) && arguments[arguments.length["-"](1)] !== null && typeof arguments[arguments.length["-"](1)] === "object" && arguments[arguments.length["-"](1)] [RS_kwargs_symbol] === true)) ? frange.__defaults__.step : arguments[2];
                var RS_kwargs_obj = arguments[arguments.length["-"](1)];
                if (RS_kwargs_obj === null || typeof RS_kwargs_obj !== "object" || RS_kwargs_obj [RS_kwargs_symbol] !== true) RS_kwargs_obj = {};
                if (Object.prototype.hasOwnProperty.call(RS_kwargs_obj, "step")){
                    step = RS_kwargs_obj.step;
                }
                var RS_ls, n;
                "155";
                n = int(round(stop["-"](start)["/"](float(step))));
                "156";
                if (n[">"](1)) {
                    "157";
                    return (function() {
                        var RS_Iter = range(n["+"](1)), RS_Result = [], i;
                        RS_Iter = ((typeof RS_Iter[Symbol.iterator] === "function") ? (RS_Iter instanceof Map ? RS_Iter.keys() : RS_Iter) : Object.keys(RS_Iter));
                        for (var RS_Index of RS_Iter) {
                            i = RS_Index;
                            RS_Result.push(start["+"](step["*"](i)));
                        }
                        RS_Result = RS_list_constructor(RS_Result);
                        return RS_Result;
                    })();
                    "158";
                } else if ((n === 1 || typeof n === "object" && RS_equals(n, 1))) {
                    "159";
                    return RS_list_decorate([ start ]);
                    "160";
                } else {
                    "161";
                    return RS_list_decorate([]);
                }
            };
            if (!frange.__defaults__) Object.defineProperties(frange, {
                __defaults__ : {value: {step:1}},
                __handles_kwarg_interpolation__ : {value: true},
                __argnames__ : {value: ["start", "stop", "step"]}
            });
        
            "164";
            ;(await main());
        };
        
        ;$(function(){ window.__context = { glowscript_container: $("#glowscript").removeAttr("id") }; __main__() })})()
        // END JAVASCRIPT
        
        //--><!]]></script>
        </div>
  
</body>
</html>