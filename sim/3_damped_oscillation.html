<pre style='color:#000000;background:#ffffff;'><span style='color:#696969; '># Morris 2019/11/21</span>

    <span style='color:#800000; font-weight:bold; '>from</span> vpython import *
    <span style='color:#696969; '># from random import *</span>
    
    <span style='color:#696969; '>############################################################################################</span>
    
    k<span style='color:#808030; '>,</span> m <span style='color:#808030; '>=</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>5</span>
    <span style='color:#696969; '># critical, under, over = 2*m*(k/m)**0.5, 0.2, 10</span>
    gamma <span style='color:#808030; '>=</span> <span style='color:#008c00; '>2</span>*(m*k)**<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>5</span>
    
    
    <span style='color:#696969; '>############################################################################################</span>
    
    scene <span style='color:#808030; '>=</span> canvas(width=<span style='color:#008c00; '>1000</span><span style='color:#808030; '>,</span> height=<span style='color:#008c00; '>600</span><span style='color:#808030; '>,</span> background=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>6</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>6</span>)<span style='color:#808030; '>,</span> align=<span style='color:#0000e6; '>'left'</span>)
    scene.camera.pos <span style='color:#808030; '>=</span> vec(-<span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>80</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>90</span>)
    scene.camera.axis <span style='color:#808030; '>=</span> vec(<span style='color:#008c00; '>25</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>60</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>90</span>)
    
    <span style='color:#696969; '>############################################################################################</span>
    
    <span style='color:#696969; '># box()</span>
    <span style='color:#696969; '># scene.caption = "\\(m\\dfrac {d^{2}x}{dt^{2}}+\\gamma \\dfrac {dx}{dt}+kx = 0\\)"</span>
    
    <span style='color:#696969; '># MathJax.Hub.Queue(["Typeset",MathJax.Hub])</span>
    
    <span style='color:#696969; '>############################################################################################</span>
    
    A <span style='color:#808030; '>=</span> vertex(pos=vec(<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>45</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    B <span style='color:#808030; '>=</span> vertex(pos=vec(<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>45</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    D <span style='color:#808030; '>=</span> vertex(pos=vec(-<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>45</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    C <span style='color:#808030; '>=</span> vertex(pos=vec(-<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>45</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    
    E <span style='color:#808030; '>=</span> vertex(pos=vec(<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    F <span style='color:#808030; '>=</span> vertex(pos=vec(<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    H <span style='color:#808030; '>=</span> vertex(pos=vec(-<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    G <span style='color:#808030; '>=</span> vertex(pos=vec(-<span style='color:#008c00; '>50</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>17</span>)<span style='color:#808030; '>,</span> color=color.green<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    
    S1 <span style='color:#808030; '>=</span> quad(v0=E<span style='color:#808030; '>,</span> v1=F<span style='color:#808030; '>,</span> v2=G<span style='color:#808030; '>,</span> v3=H)
    S2 <span style='color:#808030; '>=</span> quad(v0=A<span style='color:#808030; '>,</span> v1=B<span style='color:#808030; '>,</span> v2=E<span style='color:#808030; '>,</span> v3=H)
    S3 <span style='color:#808030; '>=</span> quad(v0=B<span style='color:#808030; '>,</span> v1=C<span style='color:#808030; '>,</span> v2=F<span style='color:#808030; '>,</span> v3=E)
    S4 <span style='color:#808030; '>=</span> quad(v0=C<span style='color:#808030; '>,</span> v1=D<span style='color:#808030; '>,</span> v2=G<span style='color:#808030; '>,</span> v3=F)
    S5 <span style='color:#808030; '>=</span> quad(v0=D<span style='color:#808030; '>,</span> v1=A<span style='color:#808030; '>,</span> v2=H<span style='color:#808030; '>,</span> v3=G)
    
    
    <span style='color:#696969; '>############################################################################################</span>
    block <span style='color:#808030; '>=</span> []
    
    spring <span style='color:#808030; '>=</span> helix(pos=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>33</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> axis=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>37</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> radius=<span style='color:#008c00; '>3</span><span style='color:#808030; '>,</span> coil=<span style='color:#008c00; '>30</span><span style='color:#808030; '>,</span>
                    v<span style='color:#808030; '>=</span>vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> a=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span>*k/m<span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>))
    
    a <span style='color:#808030; '>=</span> box(pos=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> size=vec(<span style='color:#008c00; '>7</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>7</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>7</span>)<span style='color:#808030; '>,</span> color=color.red<span style='color:#808030; '>,</span> v=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span>
                 a<span style='color:#808030; '>=</span>vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span>*k/m<span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>))
    
    block.append(a)
    
    water <span style='color:#808030; '>=</span> box(pos=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> size=vec(<span style='color:#008c00; '>100</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>74</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>34</span>)<span style='color:#808030; '>,</span> color=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>1</span>)<span style='color:#808030; '>,</span> opacity=<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>2</span>)
    
    celling <span style='color:#808030; '>=</span> box(pos=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>70</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> size=vec(<span style='color:#008c00; '>100</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>2</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>34</span>)<span style='color:#808030; '>,</span> color=vec(<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>3</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>3</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>3</span>))
    
    
    
    <span style='color:#696969; '>############################################################################################</span>
    
    running <span style='color:#808030; '>=</span> False
    
    def Run(r):
        global running
        running <span style='color:#808030; '>=</span> not running
    
        if running: 
            r.text <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>"Pause"</span>
    
        else: 
            r.text <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>"Run"</span>
    
    i <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span>
    yt <span style='color:#808030; '>=</span> []
    def Restart():
        global running<span style='color:#808030; '>,</span> t<span style='color:#808030; '>,</span> i
        k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0 <span style='color:#808030; '>=</span> test_none(ipt_k.number<span style='color:#808030; '>,</span> ipt_m.number<span style='color:#808030; '>,</span> ipt_gamma.number)
        running <span style='color:#808030; '>=</span> False
        b1.text <span style='color:#808030; '>=</span> <span style='color:#0000e6; '>'Run'</span>
        t <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span>
        i +<span style='color:#808030; '>=</span> <span style='color:#008c00; '>1</span>
        x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>,</span> z <span style='color:#808030; '>=</span> random()<span style='color:#808030; '>,</span> random()<span style='color:#808030; '>,</span> random()
        yt_idx <span style='color:#808030; '>=</span> gcurve(graph=g1<span style='color:#808030; '>,</span> color=vec(x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>,</span> z))
        yt.append(yt_idx)
        a <span style='color:#808030; '>=</span> box(pos=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>35</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span> size=vec(<span style='color:#008c00; '>7</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>7</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>7</span>)<span style='color:#808030; '>,</span> color=vec(x<span style='color:#808030; '>,</span> y<span style='color:#808030; '>,</span> z)<span style='color:#808030; '>,</span> v=vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)<span style='color:#808030; '>,</span>
                 a<span style='color:#808030; '>=</span>vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span>*k0/m0<span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>))
        block.append(a)
        block[i-1].visible <span style='color:#808030; '>=</span> False
        spring.pos <span style='color:#808030; '>=</span> vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>33</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)
        spring.v <span style='color:#808030; '>=</span> vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)
        spring.a <span style='color:#808030; '>=</span> vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> -<span style='color:#008c00; '>35</span>*k0/m0<span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)
        spring.axis <span style='color:#808030; '>=</span> vec(<span style='color:#008c00; '>0</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>37</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>0</span>)
    
    def set_k():
        k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0 <span style='color:#808030; '>=</span> test_none(ipt_k.number<span style='color:#808030; '>,</span> ipt_m.number<span style='color:#808030; '>,</span> ipt_gamma.number)
        critical(k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0)
    
    def set_m():
        k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0 <span style='color:#808030; '>=</span> test_none(ipt_k.number<span style='color:#808030; '>,</span> ipt_m.number<span style='color:#808030; '>,</span> ipt_gamma.number)
        critical <span style='color:#808030; '>=</span> critical(k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0)
    
    def set_gamma():
        k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0 <span style='color:#808030; '>=</span> test_none(ipt_k.number<span style='color:#808030; '>,</span> ipt_m.number<span style='color:#808030; '>,</span> ipt_gamma.number)    
        critical(k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0)
    
    def test_none(k_tmp<span style='color:#808030; '>,</span> m_tmp<span style='color:#808030; '>,</span> gamma_tmp):
        if k_tmp <span style='color:#808030; '>=</span>= None: k_ans = k 
        else: k_ans <span style='color:#808030; '>=</span> k_tmp
        if m_tmp <span style='color:#808030; '>=</span>= None: m_ans = m
        else: m_ans <span style='color:#808030; '>=</span> m_tmp
        if gamma_tmp <span style='color:#808030; '>=</span>= None: gamma_ans = gamma
        else: gamma_ans <span style='color:#808030; '>=</span> gamma_tmp
        return k_ans<span style='color:#808030; '>,</span> m_ans<span style='color:#808030; '>,</span> gamma_ans
    
    def critical(k_tmp<span style='color:#808030; '>,</span> m_tmp<span style='color:#808030; '>,</span> gamma_tmp):
        k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0 <span style='color:#808030; '>=</span> test_none(ipt_k.number<span style='color:#808030; '>,</span> ipt_m.number<span style='color:#808030; '>,</span> ipt_gamma.number)
        txt1.text <span style='color:#808030; '>=</span> <span style='color:#008c00; '>2</span>*(k0*m0)**<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>5</span>
        return 0
    <span style='color:#696969; '>############################################################################################</span>
    
    scene.append_to_caption(<span style='color:#0000e6; '>'      '</span>)
    
    b1 <span style='color:#808030; '>=</span> button(text=<span style='color:#0000e6; '>"Run"</span><span style='color:#808030; '>,</span> bind=Run<span style='color:#808030; '>,</span> background=color.cyan)
    
    scene.append_to_caption(<span style='color:#0000e6; '>'      '</span>)
    
    b2 <span style='color:#808030; '>=</span> button(text=<span style='color:#0000e6; '>"Restart"</span><span style='color:#808030; '>,</span> bind=Restart<span style='color:#808030; '>,</span> background=color.cyan)
    
    <span style='color:#40015a; '>scene.append_to_caption('\n\n</span>      k <span style='color:#808030; '>=</span>     <span style='color:#0000e6; '>')</span>
    ipt_k <span style='color:#808030; '>=</span> winput(bind=set_k<span style='color:#808030; '>,</span> type=<span style='color:#0000e6; '>'numeric'</span>)
    
    <span style='color:#40015a; '>scene.append_to_caption('\n\n</span>      m <span style='color:#808030; '>=</span>     <span style='color:#0000e6; '>')</span>
    ipt_m <span style='color:#808030; '>=</span> winput(bind=set_m<span style='color:#808030; '>,</span> type=<span style='color:#0000e6; '>'numeric'</span>)
    
    <span style='color:#40015a; '>scene.append_to_caption('\n\n</span>      &amp;Gamma<span style='color:#696969; '>; =     ')</span>
    ipt_gamma <span style='color:#808030; '>=</span> winput(bind=set_gamma<span style='color:#808030; '>,</span> type=<span style='color:#0000e6; '>'numeric'</span>)
    
    <span style='color:#40015a; '>scene.append_to_caption('\n\n</span>      (<span style='color:#800000; font-weight:bold; '>for</span> critical damping &amp;Gamma<span style='color:#696969; '>; = ')</span>
    txt1 <span style='color:#808030; '>=</span> wtext(text=<span style='color:#008c00; '>2</span>*(k*m)**<span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>5</span>)
    scene.append_to_caption(<span style='color:#0000e6; '>')'</span>)
    
    scene.append_to_caption(<span style='color:#0000e6; '>'&lt;i>\n\n(Please press enter after setting each parameter, otherwise \n it will run on default parameter)&lt;/i>'</span>)
    
    <span style='color:#696969; '>############################################################################################</span>
    g1 <span style='color:#808030; '>=</span> graph(title=<span style='color:#0000e6; '>'Position'</span><span style='color:#808030; '>,</span> xtitle=<span style='color:#0000e6; '>'t'</span><span style='color:#808030; '>,</span> ytitle=<span style='color:#0000e6; '>'position'</span><span style='color:#808030; '>,</span> align=<span style='color:#0000e6; '>'right'</span><span style='color:#808030; '>,</span> width=<span style='color:#008c00; '>500</span><span style='color:#808030; '>,</span>
               height<span style='color:#808030; '>=</span><span style='color:#008c00; '>300</span>)
    
    yt_idx <span style='color:#808030; '>=</span> gcurve(graph=g1<span style='color:#808030; '>,</span> color=color.red)
    yt.append(yt_idx)
    <span style='color:#696969; '>############################################################################################</span>
    
    dt <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span>.<span style='color:#008c00; '>01</span>
    t <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span>
    
    while True:
    
        if running:
            k0<span style='color:#808030; '>,</span> m0<span style='color:#808030; '>,</span> gamma0 <span style='color:#808030; '>=</span> test_none(ipt_k.number<span style='color:#808030; '>,</span> ipt_m.number<span style='color:#808030; '>,</span> ipt_gamma.number)
    
            rate(300)
            block[i].a.y <span style='color:#808030; '>=</span> -k0*block[i].pos.y/m0 - block[i].v.y*gamma0/m0
            block[i].v.y +<span style='color:#808030; '>=</span> block[i].a.y*dt
            block[i].pos.y +<span style='color:#808030; '>=</span> block[i].v.y*dt
    
    
            spring.a.y <span style='color:#808030; '>=</span> -k0*spring.pos.y/m0 - spring.v.y*gamma0/m0
            spring.v.y +<span style='color:#808030; '>=</span> spring.a.y*dt
            spring.pos.y +<span style='color:#808030; '>=</span> spring.v.y*dt
    
    
            spring.axis.y <span style='color:#808030; '>=</span> spring.axis.y - spring.v.y*dt
    
            yt[i].plot(pos<span style='color:#808030; '>=</span>(t<span style='color:#808030; '>,</span> block[i].pos.y))
    
            t +<span style='color:#808030; '>=</span> dt
    </pre>
    <!--Created using ToHtml.com on 2019-12-16 16:32:31 UTC -->